{"ast":null,"code":"import _regeneratorRuntime from\"/home/bahtija/Documents/a3/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/bahtija/Documents/a3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/home/bahtija/Documents/a3/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/home/bahtija/Documents/a3/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/bahtija/Documents/a3/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/bahtija/Documents/a3/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/bahtija/Documents/a3/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import*as React from\"react\";import{Routes,Route,Link}from\"react-router-dom\";import\"./App.css\";import Debits from\"./components/Debits\";import Credits from\"./components/Credits\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.addDebit=function(e){//send to debits view via props\n//updates state based off user input\ne.preventDefault();var debits=_this.state.debits;var balance=_this.state.accountBalance;var description=e.target[0].value;var amount=Number(e.target[1].value);var today=new Date();//formatting to match other dates\nvar month=today.getMonth()+1;var date=today.getFullYear().toString()+\"-\"+month.toString()+\"-\"+today.getDate().toString();var newDebit={description:description,amount:amount,date:date};balance=balance-amount;balance=Math.round(balance*1e2)/1e2;debits=[].concat(_toConsumableArray(debits),[newDebit]);_this.setState({debits:debits,accountBalance:balance});};_this.addCredit=function(e){//send to credits view via props\n//updates state based off user input\ne.preventDefault();var credits=_this.state.credits;var balance=_this.state.accountBalance;var description=e.target[0].value;var amount=Number(e.target[1].value);var today=new Date();//formatting to match other dates\nvar month=today.getMonth()+1;var date=today.getFullYear().toString()+\"-\"+month.toString()+\"-\"+today.getDate().toString();var newCredit={description:description,amount:amount,date:date};balance=balance+amount;balance=Math.round(balance*1e2)/1e2;credits=[].concat(_toConsumableArray(credits),[newCredit]);_this.setState({credits:credits,accountBalance:balance});};_this.state={accountBalance:0,debits:[],credits:[]};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var debits,credits,debitSum,creditSum,accountBalance;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://moj-api.herokuapp.com/debits\");case 2:debits=_context.sent;_context.next=5;return axios.get(\"https://moj-api.herokuapp.com/credits\");case 5:credits=_context.sent;//get data from API response\ndebits=debits.data;credits=credits.data;debitSum=0,creditSum=0;debits.forEach(function(debit){debitSum+=debit.amount;});credits.forEach(function(credit){creditSum+=credit.amount;});accountBalance=creditSum-debitSum;this.setState({debits:debits,credits:credits,accountBalance:accountBalance});case 13:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome!\"}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/debits\",element:/*#__PURE__*/_jsx(Debits,{addDebit:this.addDebit,debits:this.state.debits})}),/*#__PURE__*/_jsx(Route,{path:\"/credits\",element:/*#__PURE__*/_jsx(Debits,{addCredit:this.addCredit,credits:this.state.credits})})]}),/*#__PURE__*/_jsx(\"h3\",{children:this.state.accountBalance})]});}}]);return App;}(React.Component);function Home(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"View your debits and credits!\"}),/*#__PURE__*/_jsx(Link,{to:\"/debits\",children:\"Debits\"}),/*#__PURE__*/_jsx(Link,{to:\"/debits\",children:\"Credits\"})]});}export default App;","map":{"version":3,"names":["React","Routes","Route","Link","Debits","Credits","axios","App","props","addDebit","e","preventDefault","debits","state","balance","accountBalance","description","target","value","amount","Number","today","Date","month","getMonth","date","getFullYear","toString","getDate","newDebit","Math","round","setState","addCredit","credits","newCredit","get","data","debitSum","creditSum","forEach","debit","credit","Component","Home"],"sources":["/home/bahtija/Documents/a3/src/App.js"],"sourcesContent":["import * as React from \"react\";\nimport { Routes, Route, Link } from \"react-router-dom\";\nimport \"./App.css\";\n\nimport Debits from \"./components/Debits\";\nimport Credits from \"./components/Credits\";\n\nimport axios from \"axios\";\n\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      accountBalance: 0,\n      debits: [],\n      credits: []\n    }\n  }\n\n  async componentDidMount() {\n    let debits = await axios.get(\"https://moj-api.herokuapp.com/debits\")\n    let credits = await axios.get(\"https://moj-api.herokuapp.com/credits\")\n\n    //get data from API response\n    debits = debits.data\n    credits = credits.data\n\n    let debitSum = 0, creditSum = 0;\n    debits.forEach((debit) => {\n      debitSum += debit.amount\n    })\n    credits.forEach((credit) => {\n      creditSum += credit.amount\n    })\n\n    let accountBalance = creditSum - debitSum;\n    this.setState({debits, credits, accountBalance});\n  }\n\n\n  addDebit = (e) => {\n    //send to debits view via props\n    //updates state based off user input\n    e.preventDefault()\n    let { debits } = this.state\n    let balance = this.state.accountBalance;\n\n    const description  = e.target[0].value\n    const amount  = Number(e.target[1].value)\n    const today = new Date();\n\n    //formatting to match other dates\n    const month = today.getMonth() + 1;\n    const date = today.getFullYear().toString() + \"-\" + month.toString() + \"-\" + today.getDate().toString();\n\n    const newDebit = {description, amount, date}\n    balance = balance - amount;\n    balance = Math.round(balance*1e2)/1e2;\n    debits = [...debits, newDebit]\n    this.setState({debits: debits, accountBalance: balance})\n  }\n\n  addCredit = (e) => {\n    //send to credits view via props\n    //updates state based off user input\n    e.preventDefault()\n    let { credits } = this.state\n    let balance = this.state.accountBalance;\n\n    const description  = e.target[0].value\n    const amount  = Number(e.target[1].value)\n    const today = new Date();\n\n    //formatting to match other dates\n    const month = today.getMonth() + 1;\n    const date = today.getFullYear().toString() + \"-\" + month.toString() + \"-\" + today.getDate().toString();\n\n    const newCredit = {description, amount, date}\n    balance = balance + amount;\n    balance = Math.round(balance*1e2)/1e2;\n    credits = [...credits, newCredit]\n    this.setState({credits: credits, accountBalance: balance})\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h1>Welcome!</h1>\n        <Routes>\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"/debits\" element={<Debits addDebit={this.addDebit} debits={this.state.debits} />} />\n          <Route path=\"/credits\" element={<Debits addCredit={this.addCredit} credits={this.state.credits} />} />\n        </Routes>\n        <h3>{this.state.accountBalance}</h3>\n      </div>\n    );\n  }\n\n\n}\n\n\nfunction Home() {\n  return (\n    <div>\n      <h2>View your debits and credits!</h2>\n      <Link to=\"/debits\">Debits</Link>\n      <Link to=\"/debits\">Credits</Link>\n    </div>\n  );\n}\n\n\nexport default App;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}